<?xml version='1.0' encoding='utf-8'?>
<odoo>
  <!-- _________________________________________________________ -->
  <!-- kanban -->
  <!-- _________________________________________________________ -->

  <!-- Almacen -->
  <record id="warehouse_view_stock_transfer_status_kanban" model="ir.ui.view">
    <field name="name">stock_transfer_status.kanban</field>
    <field name="model">stock.transfer.status</field>
    <field name="arch" type="xml">
      <kanban class="o_kanban_mobile" sample="1" default_group_by="transfer_state" records_draggable="false">
        <field name="transfer_state" />
        <field name="crm_lead_id"/>
        <templates>
          <t t-name="kanban-box">
            <div class="oe_kanban_global_click">
              <div class="oe_kanban_details d-flex flex-column">
                <h3><field name="crm_lead_id"/></h3>
                <div class="o_kanban_tags_section oe_kanban_partner_categories"/>
                <p>Creado el: <field name="create_date" widget="datetime"/></p>
                <p>Actualizado al: <field name="__last_update" widget="datetime"/></p>
              </div>
            </div>
          </t>
        </templates>
      </kanban>
    </field>
  </record>

  <!-- Despacho -->
  <record id="pick_view_stock_transfer_status_kanban" model="ir.ui.view">
    <field name="name">stock_transfer_status.kanban</field>
    <field name="model">stock.transfer.status</field>
    <field name="arch" type="xml">
      <kanban class="o_kanban_mobile" sample="1" default_group_by="picking_state" records_draggable="false">
        <field name="picking_state" />
        <field name="crm_lead_id"/>
        <templates>
          <t t-name="kanban-box">
            <div class="oe_kanban_global_click">
              <div class="oe_kanban_details d-flex flex-column">
                <h3><field name="crm_lead_id"/></h3>
                <div class="o_kanban_tags_section oe_kanban_partner_categories"/>
                <p>Creado el: <field name="create_date" widget="datetime"/></p>
                <p>Actualizado al: <field name="__last_update" widget="datetime"/></p>
              </div>
            </div>
          </t>
        </templates>
      </kanban>
    </field>
  </record>

  <!-- _________________________________________________________ -->
  <!-- tree -->
  <!-- _________________________________________________________ -->

  <!-- Almacen -->
  <record id="warehouse_view_stock_transfer_status_tree" model="ir.ui.view">
    <field name="name">stock.transfer.status.tree</field>
    <field name="model">stock.transfer.status</field>
    <field name="arch" type="xml">
      <tree string="Almacen">
        <field name="name"/>
        <field name="repair_product_required_ids"/>
        <field name="transfer_state"/>
      </tree>
    </field>
  </record>

  <!-- Despacho -->
  <record id="pick_view_stock_transfer_status_tree" model="ir.ui.view">
    <field name="name">stock.transfer.status.tree</field>
    <field name="model">stock.transfer.status</field>
    <field name="arch" type="xml">
      <tree string="Almacen">
        <field name="name"/>
        <field name="repair_product_required_ids"/>
        <field name="transfer_state"/>
      </tree>
    </field>
  </record>

  <!-- _________________________________________________________ -->
  <!-- form -->
  <!-- _________________________________________________________ -->
  <!-- Almacen -->
  <record id="warehouse_view_stock_transfer_status_form" model="ir.ui.view">
    <field name="name">stock.transfer.status.form</field>
    <field name="model">stock.transfer.status</field>
    <field name="arch" type="xml">
      <form string="Almacen">
        <sheet>
          <h1>N : <field name="name"/></h1>
          <group>
            <field name="repair_product_required_ids">
              <tree>
                <field name="product_id"/>
                <field name="description"/>
                <field name="quantity"/>
                <field name="product_qty_available"/>
              </tree>
              <form>
                <sheet>
                  <group>
                    <field name="product_id"/>
                    <field name="description"/>
                    <field name="quantity"/>
                    <field name="product_qty_available"/>
                  </group>
                </sheet>
              </form>
            </field>
            <field name="crm_lead_id" invisible="1"/>
            <field name="sale_order_id" invisible="1"/>
            <field name="transfer_state" invisible="1"/>
            <field name="need_to_purchase" invisible="1"/>
          </group>
          <group attrs="{'invisible': [('need_to_purchase','=', False)]}">
            <button name="create_purchase_orders"
            type="object"
            class="btn btn-primary">
            Comprar productos faltantes      
            </button>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <!-- Despacho -->
  <record id="pick_view_stock_transfer_status_form" model="ir.ui.view">
    <field name="name">stock.transfer.status.form</field>
    <field name="model">stock.transfer.status</field>
    <field name="arch" type="xml">
      <form string="Almacen">
        <sheet>
          <h1>N : <field name="name"/></h1>
          <group>
            <field name="repair_product_required_ids">
              <tree>
                <field name="product_id"/>
                <field name="description"/>
                <field name="quantity"/>
                <field name="product_qty_available"/>
              </tree>
              <form>
                <sheet>
                  <group>
                    <field name="product_id"/>
                    <field name="description"/>
                    <field name="quantity"/>
                    <field name="product_qty_available"/>
                  </group>
                </sheet>
              </form>
            </field>
            <field name="crm_lead_id" invisible="1"/>
            <field name="sale_order_id" invisible="1"/>
            <field name="transfer_state" invisible="1"/>
            <field name="need_to_purchase" invisible="1"/>
          </group>
          <group attrs="{'invisible': [('need_to_purchase','=', False)]}">
            <button name="create_purchase_orders"
            type="object"
            class="btn btn-primary">
            Comprar productos faltantes      
            </button>
          </group>
        </sheet>
      </form>
    </field>
  </record>

    <!-- _________________________________________________________ -->
    <!-- Acciones -->
    <!-- _________________________________________________________ -->
    <!-- Almacen -->
  <record id="warehouse_stock_transfer_status_action" model="ir.actions.act_window">
    <field name="name">Almacen</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">stock.transfer.status</field>
    <field name="view_mode">kanban,tree,form</field>
    <field name="help" type="html">
      <p class="o_view_nocontent_smiling_face">
            No hay registros para mostrar
        </p>
    </field>
    <field name="domain">[('is_a_warehouse_order', '=', True)]</field>
    <field name="context">{'default_is_a_warehouse_order': True}</field>
    <field name="view_ids" eval="[
        (5, 0, 0),
        (0, 0, {'view_mode': 'kanban', 'view_id': ref('dv_repair_equipment.warehouse_view_stock_transfer_status_kanban')}),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('dv_repair_equipment.warehouse_view_stock_transfer_status_tree')}),
        (0, 0, {'view_mode': 'form', 'view_id': ref('dv_repair_equipment.warehouse_view_stock_transfer_status_form')}),]"/>
  </record>

    <!-- Despacho -->
  <record id="pick_stock_transfer_status_action" model="ir.actions.act_window">
    <field name="name">Despacho</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">stock.transfer.status</field>
    <field name="view_mode">kanban,tree,form</field>
    <field name="help" type="html">
      <p class="o_view_nocontent_smiling_face">
            No hay registros para mostrar
        </p>
    </field>
    <field name="domain">[('is_a_warehouse_order', '=', False)]</field>
    <field name="context">{'default_is_a_warehouse_order': False}</field>
    <field name="view_ids" eval="[
        (5, 0, 0),
        (0, 0, {'view_mode': 'kanban', 'view_id': ref('dv_repair_equipment.pick_view_stock_transfer_status_kanban')}),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('dv_repair_equipment.pick_view_stock_transfer_status_tree')}),
        (0, 0, {'view_mode': 'form', 'view_id': ref('dv_repair_equipment.pick_view_stock_transfer_status_form')}),]"/>
  </record>
</odoo>